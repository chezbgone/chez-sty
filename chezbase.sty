\ProvidesPackage{chezbase}

\RequirePackage{xparse}
\RequirePackage{etoolbox}

\RequirePackage{mathtools, amssymb, amsthm}
\RequirePackage{nccmath}

\RequirePackage[T1]{fontenc}
\RequirePackage[frak=boondox, frakscaled=0.98, scr=boondoxo]{mathalfa}
\RequirePackage{chezint} % More integrals (e.g. \oiint)

\RequirePackage{xcolor}
\RequirePackage{graphicx}
\RequirePackage{booktabs} % Better table commands

% Make \bfseries include \boldmath
\g@addto@macro\bfseries{\boldmath}

%% Make cases environment use \lbrack instead of \lbrace
%\patchcmd{\env@cases}{\lbrace}{\lbrack}{}{}

% Emphasizing
\definecolor{emphcolor}{rgb}{0, 0.4, 1}
\NewDocumentCommand{\vocab}{m}{\textbf{\textcolor{emphcolor}{#1}}}
\NewDocumentCommand{\ol}{}{\overline}
\NewDocumentCommand{\ul}{}{\underline}

% Syntactically-named delimiters
\DeclarePairedDelimiter{\braces}{\lbrace}{\rbrace}
\DeclarePairedDelimiter{\parens}{\lparen}{\rparen}
\DeclarePairedDelimiter{\brackets}{\lbrack}{\rbrack}
\DeclarePairedDelimiter{\angles}{\langle}{\rangle}
\DeclarePairedDelimiter{\verts}{\lvert}{\rvert}
\DeclarePairedDelimiter{\Verts}{\lVert}{\rVert}
\DeclarePairedDelimiter{\floor}{\lfloor}{\rfloor}
\DeclarePairedDelimiter{\ceil}{\lceil}{\rceil}

\DeclarePairedDelimiterX{\set}[1]{\lbrace}{\rbrace}{
	\RenewDocumentCommand{\mid}{}{\;\delimsize\vert\;}%
	#1
}

% Semantically-named delimiters
\NewDocumentCommand{\abs}{}{\verts}
\NewDocumentCommand{\size}{}{\verts}
\NewDocumentCommand{\norm}{}{\Verts}
\NewDocumentCommand{\tuple}{}{\angles}
\NewDocumentCommand{\gen}{}{\angles}

% Symbols
\NewDocumentCommand{\eps}{}{\varepsilon}
\NewDocumentCommand{\nullset}{}{\varnothing}
\NewDocumentCommand{\bigand}{}{\bigwedge}
\NewDocumentCommand{\bigor}{}{\bigvee}

% Common Math
\NewDocumentCommand{\half}{}{\frac{1}{2}}
\NewDocumentCommand{\cbrt}{m}{\sqrt[3]{#1}}

% Sets
\NewDocumentCommand{\FF}{}{\mathbb F}
\NewDocumentCommand{\NN}{}{\mathbb N}
\NewDocumentCommand{\ZZ}{}{\mathbb Z}
\NewDocumentCommand{\QQ}{}{\mathbb Q}
\NewDocumentCommand{\RR}{}{\mathbb R}
\NewDocumentCommand{\CC}{}{\mathbb C}
\NewDocumentCommand{\HH}{}{\mathbb H}

\NewDocumentCommand{\intersect}{}{\cap}
\NewDocumentCommand{\bigintersect}{}{\bigcap}
\NewDocumentCommand{\union}{}{\cup}
\NewDocumentCommand{\bigunion}{}{\bigcup}

% General
\DeclareMathOperator*{\argmax}{argmax}
\DeclareMathOperator*{\argmin}{argmin}
\RenewDocumentCommand{\Re}{}{\operatorname{Re}} % can't use DeclareMathOperator because already defined
\RenewDocumentCommand{\Im}{}{\operatorname{Im}}
\DeclareMathOperator{\cis}{cis}
\DeclareMathOperator{\arccosh}{arccosh}
\DeclareMathOperator{\arcsinh}{arcsinh}
\DeclareMathOperator{\arctanh}{arctanh}
\DeclareMathOperator{\sign}{sign}

% Combinatorics / Statistics
\NewDocumentCommand{\EE}{}{\mathbb E}
\NewDocumentCommand{\PP}{}{\mathbb P}
\DeclareMathOperator{\Var}{Var}

% Geometry
\NewDocumentCommand{\dg}{}{^\circ}
\NewDocumentCommand{\seg}{m}{\overrightarrow{#1}}
\NewDocumentCommand{\ray}{m}{\overrightarrow{#1}}
\NewDocumentCommand{\dang}{}{\measuredangle}

% Number Theory
\RenewDocumentCommand{\mod}{m}{\ \mathrm{mod}\ #1}
\DeclareMathOperator*{\lcm}{lcm}

% Calculus
\NewDocumentCommand{\dv}{m m}{\frac{d #1}{d #2}}
\NewDocumentCommand{\ddv}{m m}{\frac{d^2 #1}{d #2^2}}
\NewDocumentCommand{\dnv}{m m m}{\frac{d^{#3} #1}{d #2^{#3}}}
\NewDocumentCommand{\pdv}{m m}{\frac{\partial #1}{\partial #2}}
\NewDocumentCommand{\pddv}{m m}{\frac{\partial^2 #1}{\partial #2^2}}
\NewDocumentCommand{\pdnv}{m m m}{\frac{\partial^{#3} #1}{\partial #2^{#3}}}

\let\obelus\div
\let\div\relax % was originally the division symbol
\DeclareMathOperator{\grad}{grad}
\DeclareMathOperator{\div}{div}
\DeclareMathOperator{\curl}{curl}

% Algebra
\DeclareMathOperator{\ord}{ord}
\NewDocumentCommand{\iso}{}{\DOTSB\cong}
\NewDocumentCommand{\inv}{}{^{-1}}
\NewDocumentCommand{\transp}{}{^{\mathsf T}}
\DeclareMathOperator{\tr}{tr}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\Char}{char} % characteristic of a ring; \char already exists
\DeclareMathOperator{\img}{im} % \ker is already defined
\DeclareMathOperator{\Ker}{Ker}
\DeclareMathOperator{\Img}{Im}
\DeclareMathOperator{\Ind}{Ind}

\DeclareMathOperator{\GL}{GL}
\DeclareMathOperator{\SL}{SL}
\DeclareMathOperator{\SO}{SO}
\DeclareMathOperator{\SU}{SU}
\DeclareMathOperator{\Orth}{O}

\DeclareMathOperator{\Gal}{Gal}

% Algebraic Geometry
\NewDocumentCommand{\VV}{}{\mathcal V}
\NewDocumentCommand{\II}{}{\mathcal I}
\DeclareMathOperator{\Spec}{Spec}

% Quantum Mechanics
\DeclarePairedDelimiter{\bra}{\langle}{\vert}
\DeclarePairedDelimiter{\ket}{\vert}{\rangle}
\DeclarePairedDelimiterX{\braket}[2]{\langle}{\rangle}{#1 \delimsize\vert #2}
\DeclarePairedDelimiterX{\Braket}[3]{\langle}{\rangle}{#1 \,\delimsize\vert\, \mathopen{}#2 \,\delimsize\vert\, \mathopen{}#3}

% Category Theory
\DeclareMathOperator{\Obj}{Obj}
\DeclareMathOperator{\Hom}{Hom}

\endinput
